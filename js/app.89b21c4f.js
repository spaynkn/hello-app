(function(){"use strict";var e={5469:function(e,t,i){var r=i(3751),s=i(641),o=i(33);const n={id:"app"},a={key:0,class:"player"},l={class:"iframe-container"},c=["src"],d={class:"search-bar"},u={class:"carousel-wrapper"},h={class:"carousel",ref:"carousel"},p=["onClick"],f={class:"thumb-wrapper"},v=["src"],y={class:"info"},V={class:"title-container"},m={class:"title"},k={class:"tooltip"},b={class:"duration"};function C(e,t,i,C,L,g){return(0,s.uX)(),(0,s.CE)("div",n,[t[4]||(t[4]=(0,s.Lk)("h1",{class:"site-title"},"YouTube 再生アプリ（検索＋初期10件表示）",-1)),g.currentVideo?((0,s.uX)(),(0,s.CE)("div",a,[(0,s.Lk)("div",l,[(0,s.Lk)("iframe",{src:L.currentVideoUrl,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""},null,8,c)])])):(0,s.Q3)("",!0),(0,s.Lk)("div",d,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>L.searchQuery=e),placeholder:"動画タイトルを検索",onKeyup:t[1]||(t[1]=(0,r.jR)((...e)=>g.performSearch&&g.performSearch(...e),["enter"]))},null,544),[[r.Jo,L.searchQuery]]),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>g.performSearch&&g.performSearch(...e))},"検索"),L.searchQuery?((0,s.uX)(),(0,s.CE)("button",{key:0,class:"clear-btn",onClick:t[3]||(t[3]=(...e)=>g.clearSearch&&g.clearSearch(...e))},"クリア")):(0,s.Q3)("",!0)]),(0,s.Lk)("div",u,[(0,s.Lk)("div",h,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(L.displayVideos,(e,t)=>((0,s.uX)(),(0,s.CE)("div",{class:(0,o.C4)(["video-item",{active:L.currentVideoIndex===e.originalIndex}]),key:t,onClick:e=>g.selectVideoByFiltered(t)},[(0,s.Lk)("div",f,[(0,s.Lk)("img",{src:e.thumbnail,alt:"thumbnail",class:"thumbnail"},null,8,v)]),(0,s.Lk)("div",y,[(0,s.Lk)("div",V,[(0,s.Lk)("span",m,(0,o.v_)(e.title),1),(0,s.Lk)("span",k,(0,o.v_)(e.title),1)]),(0,s.Lk)("span",b,(0,o.v_)(e.duration),1)])],10,p))),128))],512)])])}i(8111),i(1148),i(2489),i(1701);var L={name:"App",data(){return{videos:[],filteredVideos:[],displayVideos:[],displayCount:10,currentVideoIndex:0,currentVideoUrl:"",searchQuery:""}},computed:{currentVideo(){return this.videos[this.currentVideoIndex]}},created(){fetch("https://raw.githubusercontent.com/spaynkn/external/refs/heads/main/videos.json").then(e=>e.json()).then(e=>{this.videos=e.map((e,t)=>({...e,originalIndex:t})),this.filteredVideos=[...this.videos],this.updateDisplayVideos(),this.videos.length>0&&(this.currentVideoIndex=0,this.updateVideoUrl(0,!1))})},mounted(){this.$refs.carousel.addEventListener("scroll",this.onCarouselScroll),this.$refs.carousel.addEventListener("wheel",e=>{0!==e.deltaY&&(e.preventDefault(),this.$refs.carousel.scrollBy({left:e.deltaY,behavior:"smooth"}))})},methods:{selectVideoByFiltered(e){const t=this.displayVideos[e];this.currentVideoIndex=t.originalIndex,this.updateVideoUrl(t.originalIndex,!0)},updateVideoUrl(e,t){const i=this.videos[e],r=i.url.split("?")[0],s=i.start||0,o=!/Android|iPhone|iPad|iPod/i.test(navigator.userAgent);this.currentVideoUrl=o&&t?`${r}?autoplay=1&start=${s}`:`${r}?autoplay=0&start=${s}`},performSearch(){const e=this.searchQuery.trim().toLowerCase();if(e){const t=e.split(/[\s\u3000]+/).filter(Boolean);this.filteredVideos=this.videos.filter(e=>t.every(t=>e.title.toLowerCase().includes(t)))}else this.filteredVideos=[...this.videos];this.displayCount=10,this.updateDisplayVideos()},clearSearch(){this.searchQuery="",this.filteredVideos=[...this.videos],this.displayCount=10,this.updateDisplayVideos()},updateDisplayVideos(){this.displayVideos=this.filteredVideos.slice(0,this.displayCount)},onCarouselScroll(){const e=this.$refs.carousel;e.scrollLeft+e.clientWidth>=e.scrollWidth-10&&this.displayCount<this.filteredVideos.length&&(this.displayCount+=10,this.updateDisplayVideos())}}},g=i(6262);const w=(0,g.A)(L,[["render",C],["__scopeId","data-v-5706cae1"]]);var x=w;(0,r.Ef)(x).mount("#app")}},t={};function i(r){var s=t[r];if(void 0!==s)return s.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,i),o.exports}i.m=e,function(){var e=[];i.O=function(t,r,s,o){if(!r){var n=1/0;for(d=0;d<e.length;d++){r=e[d][0],s=e[d][1],o=e[d][2];for(var a=!0,l=0;l<r.length;l++)(!1&o||n>=o)&&Object.keys(i.O).every(function(e){return i.O[e](r[l])})?r.splice(l--,1):(a=!1,o<n&&(n=o));if(a){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[r,s,o]}}(),function(){i.d=function(e,t){for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){i.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};i.O.j=function(t){return 0===e[t]};var t=function(t,r){var s,o,n=r[0],a=r[1],l=r[2],c=0;if(n.some(function(t){return 0!==e[t]})){for(s in a)i.o(a,s)&&(i.m[s]=a[s]);if(l)var d=l(i)}for(t&&t(r);c<n.length;c++)o=n[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(d)},r=self["webpackChunkhello_app"]=self["webpackChunkhello_app"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=i.O(void 0,[504],function(){return i(5469)});r=i.O(r)})();
//# sourceMappingURL=app.89b21c4f.js.map